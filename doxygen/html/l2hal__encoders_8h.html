<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32 level 2 HAL: /mnt/nfs/th/sps/fossa/Projects/Electronics/stm32-l2hal/l2hal/drivers/input/encoders/include/l2hal_encoders.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32 level 2 HAL
   </div>
   <div id="projectbrief">Higher-level HAL over STM&#39;s one.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_746235237756e84cb4af536d89e8c160.html">l2hal</a></li><li class="navelem"><a class="el" href="dir_43a9fc447b703e43f1f662f322c73460.html">drivers</a></li><li class="navelem"><a class="el" href="dir_4835972030e9bf0cb53194a947456933.html">input</a></li><li class="navelem"><a class="el" href="dir_371114c5249899f7a735e9457da2a71a.html">encoders</a></li><li class="navelem"><a class="el" href="dir_a4cc14e4468bb7061a786b6aa1e7f4ec.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">l2hal_encoders.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Incremental encoder level 2 HAL driver.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="l2hal__buttons_8h_source.html">l2hal_buttons.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for l2hal_encoders.h:</div>
<div class="dyncontent">
<div class="center"><img src="l2hal__encoders_8h__incl.png" border="0" usemap="#a_2mnt_2nfs_2th_2sps_2fossa_2_projects_2_electronics_2stm32-l2hal_2l2hal_2drivers_2input_2encoders_2include_2l2hal__encoders_8h" alt=""/></div>
<map name="a_2mnt_2nfs_2th_2sps_2fossa_2_projects_2_electronics_2stm32-l2hal_2l2hal_2drivers_2input_2encoders_2include_2l2hal__encoders_8h" id="a_2mnt_2nfs_2th_2sps_2fossa_2_projects_2_electronics_2stm32-l2hal_2l2hal_2drivers_2input_2encoders_2include_2l2hal__encoders_8h">
<area shape="rect" title="Incremental encoder level 2 HAL driver." alt="" coords="183,5,371,91"/>
<area shape="rect" href="l2hal__buttons_8h.html" title="Polling buttons level 2 HAL driver." alt="" coords="221,139,332,165"/>
<area shape="rect" href="l2hal__mcu_8h.html" title="Include your MCU here." alt="" coords="123,213,215,240"/>
<area shape="rect" href="l2hal__errors_8h.html" title="Errors handling stuff for level 2 HAL." alt="" coords="229,496,330,523"/>
<area shape="rect" href="l2hal__aux_8h.html" title="Auxiliary stuff for level 2 HAL." alt="" coords="315,213,401,240"/>
<area shape="rect" href="l2hal__stm32f103c8t6_8h.html" title="MCU&#45;specific stuff for STM32F103C8T6." alt="" coords="63,288,221,329"/>
<area shape="rect" title=" " alt="" coords="5,571,124,597"/>
<area shape="rect" href="l2hal__stm32f103c8t6__buttons_8h.html" title="MCU&#45;specific stuff for STM32F103C8T6, polling buttons driver." alt="" coords="47,377,237,448"/>
<area shape="rect" href="l2hal__buttons__defaults_8h.html" title="Defaults, related to L2HAL polling buttons driver." alt="" coords="42,496,205,523"/>
<area shape="rect" title=" " alt="" coords="208,571,351,597"/>
<area shape="rect" title=" " alt="" coords="320,295,388,322"/>
<area shape="rect" title=" " alt="" coords="413,295,477,322"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="l2hal__encoders_8h__dep__incl.png" border="0" usemap="#a_2mnt_2nfs_2th_2sps_2fossa_2_projects_2_electronics_2stm32-l2hal_2l2hal_2drivers_2input_2encoders_2include_2l2hal__encoders_8hdep" alt=""/></div>
<map name="a_2mnt_2nfs_2th_2sps_2fossa_2_projects_2_electronics_2stm32-l2hal_2l2hal_2drivers_2input_2encoders_2include_2l2hal__encoders_8hdep" id="a_2mnt_2nfs_2th_2sps_2fossa_2_projects_2_electronics_2stm32-l2hal_2l2hal_2drivers_2input_2encoders_2include_2l2hal__encoders_8hdep">
<area shape="rect" title="Incremental encoder level 2 HAL driver." alt="" coords="5,5,193,91"/>
<area shape="rect" href="l2hal__encoders__private_8h.html" title="Incremental encoder level 2 HAL driver (private stuff)." alt="" coords="5,139,193,224"/>
</map>
</div>
</div>
<p><a href="l2hal__encoders_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l2_h_a_l___encoders___encoder_struct.html">L2HAL_Encoders_EncoderStruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l2_h_a_l___encoders___context_struct.html">L2HAL_Encoders_ContextStruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a3cdbfd555f003aee52aa73449e687d2f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="l2hal__encoders_8h.html#a3cdbfd555f003aee52aa73449e687d2f">L2HAL_Encoders_Direction</a> { <b>Clockwise</b>
, <b>CounterClockwise</b>
 }</td></tr>
<tr class="separator:a3cdbfd555f003aee52aa73449e687d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa90034786859887aa5e166bcaa312232"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="l2hal__encoders_8h.html#aa90034786859887aa5e166bcaa312232">L2HAL_Encoders_Init</a> (<a class="el" href="struct_l2_h_a_l___encoders___context_struct.html">L2HAL_Encoders_ContextStruct</a> *context)</td></tr>
<tr class="separator:aa90034786859887aa5e166bcaa312232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f4e4e3954c9f5f89500cf72bdc15c75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_l2_h_a_l___encoders___encoder_struct.html">L2HAL_Encoders_EncoderStruct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="l2hal__encoders_8h.html#a3f4e4e3954c9f5f89500cf72bdc15c75">L2HAL_Encoders_AddEncoder</a> (<a class="el" href="struct_l2_h_a_l___encoders___context_struct.html">L2HAL_Encoders_ContextStruct</a> *context, GPIO_TypeDef *leadingPort, uint16_t leadingPin, GPIO_TypeDef *trailingPort, uint16_t trailingPin, GPIO_PinState activeState, uint16_t leadingPinDebouncingInterval, void *arbitraryContextPointer, void(*encoderEventsCallback)(void *, <a class="el" href="l2hal__encoders_8h.html#a3cdbfd555f003aee52aa73449e687d2f">L2HAL_Encoders_Direction</a>))</td></tr>
<tr class="separator:a3f4e4e3954c9f5f89500cf72bdc15c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Incremental encoder level 2 HAL driver. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a3cdbfd555f003aee52aa73449e687d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cdbfd555f003aee52aa73449e687d2f">&#9670;&nbsp;</a></span>L2HAL_Encoders_Direction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="l2hal__encoders_8h.html#a3cdbfd555f003aee52aa73449e687d2f">L2HAL_Encoders_Direction</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encoder rotation direction. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3f4e4e3954c9f5f89500cf72bdc15c75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f4e4e3954c9f5f89500cf72bdc15c75">&#9670;&nbsp;</a></span>L2HAL_Encoders_AddEncoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_l2_h_a_l___encoders___encoder_struct.html">L2HAL_Encoders_EncoderStruct</a>* L2HAL_Encoders_AddEncoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l2_h_a_l___encoders___context_struct.html">L2HAL_Encoders_ContextStruct</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_TypeDef *&#160;</td>
          <td class="paramname"><em>leadingPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>leadingPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_TypeDef *&#160;</td>
          <td class="paramname"><em>trailingPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>trailingPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_PinState&#160;</td>
          <td class="paramname"><em>activeState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>leadingPinDebouncingInterval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arbitraryContextPointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *, <a class="el" href="l2hal__encoders_8h.html#a3cdbfd555f003aee52aa73449e687d2f">L2HAL_Encoders_Direction</a>)&#160;</td>
          <td class="paramname"><em>encoderEventsCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call this function to add new encoder. Function don't check itself if given pins are busy or not, but underlaying buttons driver does check. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>Pointer to driver context. </td></tr>
    <tr><td class="paramname">leadingPort</td><td>Port, to what leading encoder channel is connected (see <a class="el" href="struct_l2_h_a_l___encoders___encoder_struct.html">L2HAL_Encoders_EncoderStruct</a> for explaination of terms "leading" and "trailing". </td></tr>
    <tr><td class="paramname">leadingPin</td><td>Pin in leading port, to what leading encoder channel is connected. </td></tr>
    <tr><td class="paramname">trailingPort</td><td>Port, to what trailing encoder channel is connected. </td></tr>
    <tr><td class="paramname">trailingPin</td><td>Pin in trailing port, to what leading encoder channel is connected. </td></tr>
    <tr><td class="paramname">activeState</td><td>Active pins state (see <a class="el" href="struct_l2_h_a_l___encoders___encoder_struct.html">L2HAL_Encoders_EncoderStruct</a> for details). </td></tr>
    <tr><td class="paramname">leadingPinDebouncingInterval</td><td>Debouncing interval for leading pin (see L2HAL_Buttons_AddButton). </td></tr>
    <tr><td class="paramname">encoderEventsCallback</td><td>Pointer to function, which will be called when is being encoder turned. </td></tr>
    <tr><td class="paramname">arbitraryContextPointer</td><td>You can provide here pointer to something (for example to code, what owns encoder). This pointer will be stored within encoder struct and so will be available in encoder callback handler. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to created encoder struct. </dd></dl>

</div>
</div>
<a id="aa90034786859887aa5e166bcaa312232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa90034786859887aa5e166bcaa312232">&#9670;&nbsp;</a></span>L2HAL_Encoders_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void L2HAL_Encoders_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l2_h_a_l___encoders___context_struct.html">L2HAL_Encoders_ContextStruct</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize encoders driver. Feed it with pointer to existing context. In context you have to set up pointer to initialized buttons driver (buttonsDriverContext); </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>Pointer to encoders driver context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
